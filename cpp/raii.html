<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAII en C++ &mdash; Resource Acquisition Is Initialization</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Inter:wght@300;400;600;800;900&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../solid.css">
    <style>
        /* ============================================
           RAII: variables & overrides (solid.css base)
           ============================================ */
        :root {
            --bg-primary: #060a0c;
            --bg-secondary: #0a1016;
            --bg-card: #0f1519;
            --bg-code: #111a1e;
            --text-primary: #e0eaf0;
            --text-secondary: #8a9db0;
            --text-muted: #4a6070;
            --border: #1e2e3a;
            --border-hover: #2e4252;

            /* RAII concept colors */
            --raii-color: #38bdf8;
            --raii-glow: #38bdf835;
            --smart-color: #a78bfa;
            --smart-glow: #a78bfa35;
            --lock-color: #f59e0b;
            --lock-glow: #f59e0b35;
            --file-color: #10b981;
            --file-glow: #10b98135;
            --custom-color: #f472b6;
            --custom-glow: #f472b635;
            --rule-color: #06b6d4;
            --rule-glow: #06b6d435;

            --accent: #38bdf8;
            --accent-glow: #38bdf830;

            --radius: 16px;
            --radius-sm: 8px;
            --font-sans: 'Inter', 'Space Grotesk', system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
            --font-display: 'Space Grotesk', var(--font-sans);
        }

        /* ============================================
           RAII: animated background
           ============================================ */
        .bg-mesh {
            position: fixed;
            inset: 0;
            z-index: 0;
            opacity: 0.4;
            background:
                radial-gradient(ellipse 600px 300px at 20% 10%, var(--raii-glow), transparent),
                radial-gradient(ellipse 500px 400px at 80% 80%, var(--smart-glow), transparent),
                radial-gradient(ellipse 400px 350px at 50% 50%, var(--lock-glow), transparent);
            animation: meshDrift 30s ease-in-out infinite alternate;
        }

        @keyframes meshDrift {
            0%   { background-position: 0% 0%, 100% 100%, 50% 50%; }
            100% { background-position: 10% 5%, 90% 90%, 55% 45%; }
        }

        .bg-hex {
            position: fixed;
            inset: 0;
            z-index: 0;
            background-image:
                linear-gradient(30deg, rgba(255,255,255,.015) 12%, transparent 12.5%, transparent 87%, rgba(255,255,255,.015) 87.5%),
                linear-gradient(150deg, rgba(255,255,255,.015) 12%, transparent 12.5%, transparent 87%, rgba(255,255,255,.015) 87.5%),
                linear-gradient(30deg, rgba(255,255,255,.015) 12%, transparent 12.5%, transparent 87%, rgba(255,255,255,.015) 87.5%),
                linear-gradient(150deg, rgba(255,255,255,.015) 12%, transparent 12.5%, transparent 87%, rgba(255,255,255,.015) 87.5%),
                linear-gradient(60deg, rgba(255,255,255,.008) 25%, transparent 25.5%, transparent 75%, rgba(255,255,255,.008) 75%),
                linear-gradient(60deg, rgba(255,255,255,.008) 25%, transparent 25.5%, transparent 75%, rgba(255,255,255,.008) 75%);
            background-size: 80px 140px;
            background-position: 0 0, 0 0, 40px 70px, 40px 70px, 0 0, 40px 70px;
            mask-image: radial-gradient(ellipse 70% 50% at 50% 20%, black 30%, transparent 100%);
        }

        .container { max-width: 1000px; }

        /* ============================================
           RAII: hero overrides
           ============================================ */
        .hero { position: relative; }

        .hero-content { animation: heroIn 1s ease-out; }
        @keyframes heroIn {
            from { opacity: 0; transform: translateY(50px) scale(0.97); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .hero-badge { margin-bottom: 36px; gap: 10px; padding: 8px 22px; }
        .hero-badge .hex {
            width: 10px; height: 10px;
            background: var(--accent);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            animation: hexPulse 2.5s ease-in-out infinite;
        }

        @keyframes hexPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.75); }
        }

        .hero h1 {
            font-family: var(--font-display);
            font-size: clamp(4rem, 10vw, 8rem);
            font-weight: 900;
            line-height: 1;
            letter-spacing: -0.03em;
            margin-bottom: 4px;
            background: linear-gradient(135deg, var(--raii-color) 0%, var(--smart-color) 50%, var(--custom-color) 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 60px var(--accent-glow));
        }

        .hero-tagline {
            font-family: var(--font-display);
            font-size: clamp(0.95rem, 2vw, 1.2rem);
            font-weight: 600;
            color: var(--text-muted);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 32px;
        }

        .hero-subtitle { margin-bottom: 52px; max-width: 640px; line-height: 1.8; }
        .hero-subtitle strong { color: var(--text-primary); font-weight: 600; }

        /* ============================================
           RAII: concept nav
           ============================================ */
        .concept-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            max-width: 700px;
            margin: 0 auto;
        }

        .concept-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 22px;
            border-radius: 14px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.88rem;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .concept-nav a:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 32px rgba(0,0,0,.4);
        }

        .concept-nav a .nav-icon {
            width: 30px; height: 30px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
        }

        .cnav-raii .nav-icon   { background: var(--raii-glow); color: var(--raii-color); }
        .cnav-smart .nav-icon  { background: var(--smart-glow); color: var(--smart-color); }
        .cnav-lock .nav-icon   { background: var(--lock-glow); color: var(--lock-color); }
        .cnav-file .nav-icon   { background: var(--file-glow); color: var(--file-color); }
        .cnav-custom .nav-icon { background: var(--custom-glow); color: var(--custom-color); }
        .cnav-rule .nav-icon   { background: var(--rule-glow); color: var(--rule-color); }

        .cnav-raii:hover   { border-color: var(--raii-color) !important; box-shadow: 0 8px 32px var(--raii-glow) !important; }
        .cnav-smart:hover  { border-color: var(--smart-color) !important; box-shadow: 0 8px 32px var(--smart-glow) !important; }
        .cnav-lock:hover   { border-color: var(--lock-color) !important; box-shadow: 0 8px 32px var(--lock-glow) !important; }
        .cnav-file:hover   { border-color: var(--file-color) !important; box-shadow: 0 8px 32px var(--file-glow) !important; }
        .cnav-custom:hover { border-color: var(--custom-color) !important; box-shadow: 0 8px 32px var(--custom-glow) !important; }
        .cnav-rule:hover   { border-color: var(--rule-color) !important; box-shadow: 0 8px 32px var(--rule-glow) !important; }

        .scroll-indicator { font-size: 0.72rem; letter-spacing: 0.12em; animation: heroIn 1s ease-out 0.6s both; }
        .scroll-indicator .line {
            width: 1px;
            height: 40px;
            background: linear-gradient(to bottom, var(--text-muted), transparent);
            animation: lineScroll 2s ease-in-out infinite;
        }

        @keyframes lineScroll {
            0%, 100% { opacity: 1; transform: scaleY(1); }
            50% { opacity: 0.3; transform: scaleY(0.5); transform-origin: top; }
        }

        /* ============================================
           INTRO SECTION
           ============================================ */
        .intro-section {
            padding: 80px 0 40px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .intro-section.visible { opacity: 1; transform: translateY(0); }

        .intro-title {
            font-family: var(--font-display);
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .intro-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 40px;
            font-size: 0.95rem;
        }

        .intro-diagram {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .intro-row {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 24px;
            border-radius: 12px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            transition: all 0.3s ease;
        }

        .intro-row:hover {
            border-color: var(--border-hover);
            transform: translateX(4px);
        }

        .intro-num {
            font-family: var(--font-display);
            font-weight: 800;
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
            flex-shrink: 0;
        }

        .intro-info h3 {
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1rem;
            line-height: 1.3;
        }

        .intro-info p {
            font-size: 0.82rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .intro-acquire .intro-num { color: var(--raii-color); }
        .intro-acquire { border-color: var(--raii-glow); }
        .intro-use .intro-num { color: var(--smart-color); }
        .intro-release .intro-num { color: var(--file-color); }
        .intro-exception .intro-num { color: var(--lock-color); }

        .guarantee-box {
            padding: 20px 28px;
            border-radius: var(--radius);
            border: 1px dashed var(--border-hover);
            background: var(--bg-secondary);
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .guarantee-box h3 {
            font-family: var(--font-display);
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 6px;
        }

        .guarantee-box p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .guarantee-box p strong {
            color: var(--text-primary);
        }

        /* ============================================
           CONCEPT SECTION
           ============================================ */
        .concept {
            padding: 90px 0 50px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .concept.visible { opacity: 1; transform: translateY(0); }

        .concept-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 28px;
        }

        .concept-icon {
            width: 68px; height: 68px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
            position: relative;
        }

        .concept-icon::after {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 20px;
            z-index: -1;
            opacity: 0.4;
            filter: blur(14px);
        }

        .concept-title-group h2 {
            font-family: var(--font-display);
            font-size: clamp(1.6rem, 3.5vw, 2.2rem);
            font-weight: 800;
            line-height: 1.15;
            letter-spacing: -0.02em;
        }

        .concept-title-group .concept-subtitle {
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .concept-desc {
            font-size: 1.05rem;
            color: var(--text-secondary);
            max-width: 720px;
            margin-bottom: 32px;
            line-height: 1.8;
        }

        .concept-desc strong { color: var(--text-primary); font-weight: 600; }

        /* Principe RAII */
        #raii-base .concept-icon { background: var(--raii-glow); color: var(--raii-color); }
        #raii-base .concept-icon::after { background: var(--raii-color); }
        #raii-base h2 { color: var(--raii-color); }

        /* Smart Pointers */
        #smart-pointers .concept-icon { background: var(--smart-glow); color: var(--smart-color); }
        #smart-pointers .concept-icon::after { background: var(--smart-color); }
        #smart-pointers h2 { color: var(--smart-color); }

        /* Lock Guards */
        #lock-guards .concept-icon { background: var(--lock-glow); color: var(--lock-color); }
        #lock-guards .concept-icon::after { background: var(--lock-color); }
        #lock-guards h2 { color: var(--lock-color); }

        /* File Handles */
        #file-handles .concept-icon { background: var(--file-glow); color: var(--file-color); }
        #file-handles .concept-icon::after { background: var(--file-color); }
        #file-handles h2 { color: var(--file-color); }

        /* Custom Wrappers */
        #custom-wrappers .concept-icon { background: var(--custom-glow); color: var(--custom-color); }
        #custom-wrappers .concept-icon::after { background: var(--custom-color); }
        #custom-wrappers h2 { color: var(--custom-color); }

        /* Rule of Five/Zero */
        #rule-of-five .concept-icon { background: var(--rule-glow); color: var(--rule-color); }
        #rule-of-five .concept-icon::after { background: var(--rule-color); }
        #rule-of-five h2 { color: var(--rule-color); }

        /* ============================================
           Code blocks overrides
           ============================================ */
        .code-single {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }
        .code-block:hover { border-color: var(--border-hover); box-shadow: 0 8px 40px rgba(0,0,0,.35); }
        .code-block-header .filename { display: flex; align-items: center; gap: 8px; font-size: 0.78rem; }
        .code-block-header .filename .folder { color: var(--text-muted); }
        .tag-raii { background: var(--raii-glow); color: var(--raii-color); }
        .tag-modern { background: var(--smart-glow); color: var(--smart-color); }
        .tag-safe { background: var(--file-glow); color: var(--file-color); }
        .pp { color: #c3e88d; }  /* preprocessor */

        .insight-box { margin-top: 20px; }
        .insight-box .icon { font-size: 1.4rem; line-height: 1.5; }
        .insight-box p { font-size: 0.92rem; }
        .insight-box code {
            color: var(--accent);
            background: var(--bg-code);
            padding: 2px 7px;
            border-radius: 5px;
            font-family: var(--font-mono);
            font-size: 0.82rem;
        }

        .divider { margin: 16px 0; }

        footer { padding: 70px 24px 40px; }
        footer .raii-logo {
            font-family: var(--font-display);
            font-weight: 900;
            font-size: 1.2rem;
            letter-spacing: 0.08em;
            background: linear-gradient(135deg, var(--raii-color), var(--smart-color));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        footer a:hover { text-decoration: underline; }

        .back-to-top:hover { border-color: var(--accent); }

        /* ============================================
           Section animations
           ============================================ */
        .concept.visible .code-grid > :first-child,
        .concept.visible .code-single > :first-child {
            animation: slideInLeft 0.6s ease-out 0.2s both;
        }

        .concept.visible .code-grid > :last-child {
            animation: slideInRight 0.6s ease-out 0.3s both;
        }

        .concept.visible .insight-box {
            animation: fadeUp 0.6s ease-out 0.4s both;
        }

        .intro-section.visible .intro-row {
            animation: slideInLeft 0.5s ease-out both;
        }
        .intro-section.visible .intro-row:nth-child(1) { animation-delay: 0.1s; }
        .intro-section.visible .intro-row:nth-child(2) { animation-delay: 0.2s; }
        .intro-section.visible .intro-row:nth-child(3) { animation-delay: 0.3s; }
        .intro-section.visible .intro-row:nth-child(4) { animation-delay: 0.4s; }

        .intro-section.visible .guarantee-box {
            animation: fadeUp 0.6s ease-out 0.5s both;
        }

        .sibling-link:hover { border-color: var(--border-hover); }
        .sibling-link .arrow { font-size: 0.9rem; }
    </style>
</head>
<body>

<!-- Background Effects -->
<div class="bg-hex"></div>
<div class="bg-mesh"></div>

<!-- Navigation -->
<nav class="top-nav">
    <a href="index.html" class="sibling-link">Accueil</a>
</nav>
<a href="#top" class="back-to-top" id="backToTop" title="Retour en haut">&uarr;</a>

<!-- ============================
     HERO
     ============================ -->
<section class="hero" id="top">
    <div class="hero-content">
        <div class="hero-badge"><span class="hex"></span> Gestion des Ressources &middot; C++</div>
        <h1>RAII</h1>
        <p class="hero-tagline">Resource Acquisition Is Initialization</p>
        <p class="hero-subtitle">
            Liez l'<strong>acquisition d'une ressource</strong> &agrave; la <strong>dur&eacute;e de vie d'un objet</strong>.
            Le RAII est l'idiome fondamental du C++ moderne pour &eacute;crire du code
            <strong>s&ucirc;r, sans fuites et exception-safe</strong>.
        </p>
        <nav class="concept-nav">
            <a href="#raii-base" class="cnav-raii"><span class="nav-icon">&#9670;</span> Le Principe</a>
            <a href="#smart-pointers" class="cnav-smart"><span class="nav-icon">&#9733;</span> Smart Pointers</a>
            <a href="#lock-guards" class="cnav-lock"><span class="nav-icon">&#128274;</span> Lock Guards</a>
            <a href="#file-handles" class="cnav-file"><span class="nav-icon">&#128196;</span> File Handles</a>
            <a href="#custom-wrappers" class="cnav-custom"><span class="nav-icon">&#128736;</span> Custom Wrappers</a>
            <a href="#rule-of-five" class="cnav-rule"><span class="nav-icon">&#9881;</span> Rule of 5/0</a>
        </nav>
    </div>
    <div class="scroll-indicator">
        <div class="line"></div>
        explorer
    </div>
</section>

<main class="container">

    <!-- ============================
         OVERVIEW
         ============================ -->
    <section class="intro-section" id="overview">
        <h2 class="intro-title">Le cycle de vie RAII</h2>
        <p class="intro-subtitle">Chaque ressource suit un cycle d&eacute;terministe, garanti par le compilateur.</p>

        <div class="intro-diagram">
            <div class="intro-row intro-acquire">
                <span class="intro-num">01</span>
                <div class="intro-info">
                    <h3>Acquisition</h3>
                    <p>La ressource est acquise dans le <strong>constructeur</strong>. Si l'acquisition &eacute;choue, une exception est lev&eacute;e.</p>
                </div>
            </div>
            <div class="intro-row intro-use">
                <span class="intro-num">02</span>
                <div class="intro-info">
                    <h3>Utilisation</h3>
                    <p>L'objet encapsule la ressource et expose une API s&ucirc;re. Pas d'acc&egrave;s direct &agrave; la ressource brute.</p>
                </div>
            </div>
            <div class="intro-row intro-release">
                <span class="intro-num">03</span>
                <div class="intro-info">
                    <h3>Lib&eacute;ration</h3>
                    <p>Le <strong>destructeur</strong> lib&egrave;re la ressource automatiquement, m&ecirc;me en cas d'exception.</p>
                </div>
            </div>
            <div class="intro-row intro-exception">
                <span class="intro-num">04</span>
                <div class="intro-info">
                    <h3>Exception Safety</h3>
                    <p>Le stack unwinding appelle les destructeurs. <strong>Z&eacute;ro fuite</strong>, m&ecirc;me sur un chemin d'erreur.</p>
                </div>
            </div>
        </div>

        <div class="guarantee-box">
            <h3>&#9889; Garantie du compilateur</h3>
            <p>
                En C++, le destructeur est appel&eacute; <strong>d&eacute;terminiquement</strong> &agrave; la fin du scope.
                Contrairement &agrave; un garbage collector, il n'y a <strong>aucune latence</strong>,
                aucune incertitude &mdash; la ressource est lib&eacute;r&eacute;e <strong>imm&eacute;diatement</strong>.
            </p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         LE PRINCIPE RAII
         ============================ -->
    <section class="concept" id="raii-base">
        <div class="concept-header">
            <div class="concept-icon">&#9670;</div>
            <div class="concept-title-group">
                <h2>Le Principe RAII</h2>
                <div class="concept-subtitle">Acquérir dans le constructeur, libérer dans le destructeur</div>
            </div>
        </div>

        <p class="concept-desc">
            Sans RAII, le d&eacute;veloppeur doit <strong>manuellement</strong> allouer et lib&eacute;rer chaque ressource.
            Un simple <code>return</code> pr&eacute;matur&eacute; ou une exception suffit &agrave; cr&eacute;er une <strong>fuite m&eacute;moire</strong>.
            Avec RAII, le compilateur garantit la lib&eacute;ration.
        </p>

        <div class="code-grid">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">manual.cpp</span>
                    <span class="tag tag-bad">Sans RAII</span>
                </div>
                <pre><code><span class="kw">void</span> <span class="fn">process</span>()
{
    <span class="cm">// Allocation manuelle</span>
    <span class="ty">int</span>* <span class="vr">data</span> = <span class="kw">new</span> <span class="ty">int</span>[<span class="nb">1024</span>];

    <span class="kw">if</span> (!<span class="fn">validate</span>(<span class="vr">data</span>)) {
        <span class="kw">return</span>;  <span class="cm">// FUITE ! delete oubli&eacute;</span>
    }

    <span class="fn">transform</span>(<span class="vr">data</span>);
    <span class="cm">// Si transform() l&egrave;ve une exception</span>
    <span class="cm">// &rarr; FUITE aussi !</span>

    <span class="kw">delete</span>[] <span class="vr">data</span>;  <span class="cm">// Atteint seulement</span>
                      <span class="cm">// si tout va bien</span>
}</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">raii.cpp</span>
                    <span class="tag tag-good">Avec RAII</span>
                </div>
                <pre><code><span class="kw">void</span> <span class="fn">process</span>()
{
    <span class="cm">// Le vector g&egrave;re sa m&eacute;moire</span>
    <span class="cl">std</span>::<span class="cl">vector</span>&lt;<span class="ty">int</span>&gt; <span class="vr">data</span>(<span class="nb">1024</span>);

    <span class="kw">if</span> (!<span class="fn">validate</span>(<span class="vr">data</span>)) {
        <span class="kw">return</span>;  <span class="cm">// OK : destructeur appel&eacute;</span>
    }

    <span class="fn">transform</span>(<span class="vr">data</span>);
    <span class="cm">// Si transform() l&egrave;ve une exception</span>
    <span class="cm">// &rarr; destructeur appel&eacute; quand m&ecirc;me</span>

    <span class="cm">// Pas de delete &mdash; le destructeur</span>
    <span class="cm">// de vector lib&egrave;re tout</span>
}</code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#128161;</span>
            <p><strong>R&egrave;gle d'or :</strong> Ne jamais utiliser <code>new</code>/<code>delete</code> directement.
            Pr&eacute;f&eacute;rez <code>std::vector</code>, <code>std::string</code>, <code>std::unique_ptr</code> &mdash;
            des conteneurs RAII qui lib&egrave;rent <strong>automatiquement</strong> leurs ressources.</p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         SMART POINTERS
         ============================ -->
    <section class="concept" id="smart-pointers">
        <div class="concept-header">
            <div class="concept-icon">&#9733;</div>
            <div class="concept-title-group">
                <h2>Smart Pointers</h2>
                <div class="concept-subtitle">Propri&eacute;t&eacute; automatique de la m&eacute;moire dynamique</div>
            </div>
        </div>

        <p class="concept-desc">
            Les <strong>smart pointers</strong> encapsulent un pointeur brut et lib&egrave;rent
            la m&eacute;moire dans leur destructeur. <code>std::unique_ptr</code> pour la propri&eacute;t&eacute;
            <strong>exclusive</strong>, <code>std::shared_ptr</code> pour la propri&eacute;t&eacute; <strong>partag&eacute;e</strong>.
        </p>

        <div class="code-grid">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">unique_ptr.cpp</span>
                    <span class="tag tag-modern">unique_ptr</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;memory&gt;</span>

<span class="kw">class</span> <span class="cl">Texture</span> {
<span class="kw">public</span>:
    <span class="cl">Texture</span>(<span class="kw">const</span> <span class="cl">std</span>::<span class="cl">string</span>&amp; <span class="vr">path</span>);
    <span class="kw">void</span> <span class="fn">bind</span>() <span class="kw">const</span>;
};

<span class="kw">void</span> <span class="fn">render</span>()
{
    <span class="cm">// Propri&eacute;t&eacute; exclusive, z&eacute;ro co&ucirc;t</span>
    <span class="kw">auto</span> <span class="vr">tex</span> = <span class="cl">std</span>::<span class="fn">make_unique</span>&lt;<span class="cl">Texture</span>&gt;(
        <span class="st">"wall.png"</span>
    );

    <span class="vr">tex</span>-><span class="fn">bind</span>();

    <span class="cm">// Pas de delete.</span>
    <span class="cm">// unique_ptr lib&egrave;re &agrave; la fin du scope.</span>
}

<span class="cm">// Transfert de propri&eacute;t&eacute; (move semantics)</span>
<span class="cl">std</span>::<span class="cl">unique_ptr</span>&lt;<span class="cl">Texture</span>&gt; <span class="fn">load</span>(<span class="kw">const</span> <span class="cl">std</span>::<span class="cl">string</span>&amp; <span class="vr">p</span>)
{
    <span class="kw">return</span> <span class="cl">std</span>::<span class="fn">make_unique</span>&lt;<span class="cl">Texture</span>&gt;(<span class="vr">p</span>);
}</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">shared_ptr.cpp</span>
                    <span class="tag tag-modern">shared_ptr</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;memory&gt;</span>

<span class="kw">class</span> <span class="cl">Config</span> {
<span class="kw">public</span>:
    <span class="kw">explicit</span> <span class="cl">Config</span>(<span class="kw">const</span> <span class="cl">std</span>::<span class="cl">string</span>&amp; <span class="vr">file</span>);
    <span class="cl">std</span>::<span class="cl">string</span> <span class="fn">get</span>(<span class="kw">const</span> <span class="cl">std</span>::<span class="cl">string</span>&amp; <span class="vr">key</span>) <span class="kw">const</span>;
};

<span class="cm">// Propri&eacute;t&eacute; partag&eacute;e : plusieurs modules</span>
<span class="cm">// r&eacute;f&eacute;rencent le m&ecirc;me Config</span>
<span class="kw">auto</span> <span class="vr">cfg</span> = <span class="cl">std</span>::<span class="fn">make_shared</span>&lt;<span class="cl">Config</span>&gt;(
    <span class="st">"app.toml"</span>
);

<span class="fn">module_a</span>(<span class="vr">cfg</span>);  <span class="cm">// copie du shared_ptr</span>
<span class="fn">module_b</span>(<span class="vr">cfg</span>);  <span class="cm">// ref count = 3</span>

<span class="cm">// Quand le dernier shared_ptr est d&eacute;truit</span>
<span class="cm">// &rarr; Config est lib&eacute;r&eacute; automatiquement</span>

<span class="cm">// weak_ptr pour casser les cycles :</span>
<span class="cl">std</span>::<span class="cl">weak_ptr</span>&lt;<span class="cl">Config</span>&gt; <span class="vr">observer</span> = <span class="vr">cfg</span>;
<span class="kw">if</span> (<span class="kw">auto</span> <span class="vr">locked</span> = <span class="vr">observer</span>.<span class="fn">lock</span>()) {
    <span class="vr">locked</span>-><span class="fn">get</span>(<span class="st">"key"</span>);
}</code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#9889;</span>
            <p><strong>Pr&eacute;f&eacute;rez <code>unique_ptr</code></strong> par d&eacute;faut. Il a <strong>z&eacute;ro overhead</strong>
            par rapport &agrave; un pointeur brut. N'utilisez <code>shared_ptr</code> que si la propri&eacute;t&eacute;
            est r&eacute;ellement partag&eacute;e. Le comptage de r&eacute;f&eacute;rences a un co&ucirc;t atomique.</p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         LOCK GUARDS
         ============================ -->
    <section class="concept" id="lock-guards">
        <div class="concept-header">
            <div class="concept-icon">&#128274;</div>
            <div class="concept-title-group">
                <h2>Lock Guards</h2>
                <div class="concept-subtitle">Verrouillage automatique des mutex</div>
            </div>
        </div>

        <p class="concept-desc">
            Un <code>std::lock_guard</code> verrouille le mutex &agrave; la <strong>construction</strong>
            et le d&eacute;verrouille &agrave; la <strong>destruction</strong>. Impossible d'oublier
            le <code>unlock()</code>, m&ecirc;me en cas d'exception.
        </p>

        <div class="code-grid">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">manual_lock.cpp</span>
                    <span class="tag tag-bad">Sans RAII</span>
                </div>
                <pre><code><span class="cl">std</span>::<span class="cl">mutex</span> <span class="vr">mtx</span>;
<span class="cl">std</span>::<span class="cl">vector</span>&lt;<span class="ty">int</span>&gt; <span class="vr">shared_data</span>;

<span class="kw">void</span> <span class="fn">add</span>(<span class="ty">int</span> <span class="vr">value</span>)
{
    <span class="vr">mtx</span>.<span class="fn">lock</span>();

    <span class="kw">if</span> (<span class="vr">value</span> &lt; <span class="nb">0</span>) {
        <span class="kw">return</span>;  <span class="cm">// DEADLOCK !</span>
                 <span class="cm">// unlock() jamais appel&eacute;</span>
    }

    <span class="vr">shared_data</span>.<span class="fn">push_back</span>(<span class="vr">value</span>);
    <span class="cm">// Si push_back() l&egrave;ve (bad_alloc)</span>
    <span class="cm">// &rarr; DEADLOCK aussi !</span>

    <span class="vr">mtx</span>.<span class="fn">unlock</span>();
}</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">lock_guard.cpp</span>
                    <span class="tag tag-good">Avec RAII</span>
                </div>
                <pre><code><span class="cl">std</span>::<span class="cl">mutex</span> <span class="vr">mtx</span>;
<span class="cl">std</span>::<span class="cl">vector</span>&lt;<span class="ty">int</span>&gt; <span class="vr">shared_data</span>;

<span class="kw">void</span> <span class="fn">add</span>(<span class="ty">int</span> <span class="vr">value</span>)
{
    <span class="cm">// Verrouillage automatique</span>
    <span class="cl">std</span>::<span class="cl">lock_guard</span>&lt;<span class="cl">std</span>::<span class="cl">mutex</span>&gt; <span class="vr">lock</span>(<span class="vr">mtx</span>);

    <span class="kw">if</span> (<span class="vr">value</span> &lt; <span class="nb">0</span>) {
        <span class="kw">return</span>;  <span class="cm">// OK : unlock automatique</span>
    }

    <span class="vr">shared_data</span>.<span class="fn">push_back</span>(<span class="vr">value</span>);
    <span class="cm">// Si exception &rarr; unlock automatique</span>

    <span class="cm">// Fin du scope &rarr; destructeur</span>
    <span class="cm">// &rarr; unlock() garanti</span>
}

<span class="cm">// C++17 : d&eacute;duction de template</span>
<span class="cl">std</span>::<span class="cl">lock_guard</span> <span class="vr">lock</span>(<span class="vr">mtx</span>);

<span class="cm">// Pour plus de flexibilit&eacute; :</span>
<span class="cl">std</span>::<span class="cl">unique_lock</span> <span class="vr">ulock</span>(<span class="vr">mtx</span>);
<span class="vr">ulock</span>.<span class="fn">unlock</span>();  <span class="cm">// lib&eacute;ration anticip&eacute;e</span></code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#128270;</span>
            <p><strong>Choisir le bon guard :</strong> <code>std::lock_guard</code> pour le cas simple (lock/unlock automatique),
            <code>std::unique_lock</code> si vous avez besoin de d&eacute;verrouiller avant la fin du scope
            ou d'utiliser <code>std::condition_variable</code>.
            <code>std::scoped_lock</code> (C++17) pour verrouiller <strong>plusieurs mutex</strong> sans deadlock.</p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         FILE HANDLES
         ============================ -->
    <section class="concept" id="file-handles">
        <div class="concept-header">
            <div class="concept-icon">&#128196;</div>
            <div class="concept-title-group">
                <h2>File Handles</h2>
                <div class="concept-subtitle">Gestion automatique des fichiers et descripteurs</div>
            </div>
        </div>

        <p class="concept-desc">
            <code>std::fstream</code> est d&eacute;j&agrave; RAII : le fichier est ferm&eacute; dans le destructeur.
            Pour les <strong>API C</strong> (<code>FILE*</code>, sockets, handles OS), un wrapper RAII
            garantit la fermeture m&ecirc;me en cas d'erreur.
        </p>

        <div class="code-grid">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">file_c_style.cpp</span>
                    <span class="tag tag-bad">Style C</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;cstdio&gt;</span>

<span class="kw">void</span> <span class="fn">export_data</span>()
{
    <span class="ty">FILE</span>* <span class="vr">f</span> = <span class="fn">fopen</span>(<span class="st">"out.csv"</span>, <span class="st">"w"</span>);
    <span class="kw">if</span> (!<span class="vr">f</span>) <span class="kw">return</span>;

    <span class="fn">fprintf</span>(<span class="vr">f</span>, <span class="st">"id,name\n"</span>);

    <span class="kw">auto</span> <span class="vr">rows</span> = <span class="fn">fetch_rows</span>();
    <span class="cm">// Si fetch_rows() l&egrave;ve une exception</span>
    <span class="cm">// &rarr; fclose() jamais appel&eacute;</span>
    <span class="cm">// &rarr; descripteur fuit&eacute;</span>

    <span class="kw">for</span> (<span class="kw">auto</span>&amp; <span class="vr">r</span> : <span class="vr">rows</span>) {
        <span class="fn">fprintf</span>(<span class="vr">f</span>, <span class="st">"%d,%s\n"</span>, <span class="vr">r</span>.<span class="vr">id</span>, <span class="vr">r</span>.<span class="vr">name</span>);
    }

    <span class="fn">fclose</span>(<span class="vr">f</span>);  <span class="cm">// facile &agrave; oublier</span>
}</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">file_raii.cpp</span>
                    <span class="tag tag-good">RAII</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;fstream&gt;</span>

<span class="kw">void</span> <span class="fn">export_data</span>()
{
    <span class="cm">// fstream = RAII natif</span>
    <span class="cl">std</span>::<span class="cl">ofstream</span> <span class="vr">out</span>(<span class="st">"out.csv"</span>);
    <span class="kw">if</span> (!<span class="vr">out</span>) <span class="kw">return</span>;

    <span class="vr">out</span> &lt;&lt; <span class="st">"id,name\n"</span>;

    <span class="kw">for</span> (<span class="kw">auto</span>&amp; <span class="vr">r</span> : <span class="fn">fetch_rows</span>()) {
        <span class="vr">out</span> &lt;&lt; <span class="vr">r</span>.<span class="vr">id</span> &lt;&lt; <span class="st">","</span> &lt;&lt; <span class="vr">r</span>.<span class="vr">name</span> &lt;&lt; <span class="st">"\n"</span>;
    }

    <span class="cm">// Le destructeur de ofstream</span>
    <span class="cm">// ferme le fichier automatiquement.</span>
    <span class="cm">// M&ecirc;me en cas d'exception :</span>
    <span class="cm">// stack unwinding &rarr; ~ofstream()</span>
}

<span class="cm">// Pour un FILE* legacy, unique_ptr :</span>
<span class="kw">auto</span> <span class="vr">fp</span> = <span class="cl">std</span>::<span class="cl">unique_ptr</span>&lt;<span class="ty">FILE</span>, <span class="kw">decltype</span>(&amp;<span class="fn">fclose</span>)&gt;(
    <span class="fn">fopen</span>(<span class="st">"data.bin"</span>, <span class="st">"rb"</span>), &amp;<span class="fn">fclose</span>
);</code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#128218;</span>
            <p><strong>Astuce :</strong> <code>std::unique_ptr</code> accepte un <strong>custom deleter</strong>.
            Vous pouvez ainsi wrapper n'importe quelle ressource C
            (<code>FILE*</code>, <code>sqlite3*</code>, <code>SDL_Window*</code>)
            sans &eacute;crire une classe compl&egrave;te.</p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         CUSTOM WRAPPERS
         ============================ -->
    <section class="concept" id="custom-wrappers">
        <div class="concept-header">
            <div class="concept-icon">&#128736;</div>
            <div class="concept-title-group">
                <h2>Custom RAII Wrappers</h2>
                <div class="concept-subtitle">&Eacute;crivez vos propres gardiens de ressources</div>
            </div>
        </div>

        <p class="concept-desc">
            Quand la biblioth&egrave;que standard ne suffit pas, cr&eacute;ez votre propre
            <strong>wrapper RAII</strong>. Le pattern est toujours le m&ecirc;me :
            <strong>acquérir dans le constructeur</strong>, <strong>lib&eacute;rer dans le destructeur</strong>,
            interdire la copie ou impl&eacute;menter le move.
        </p>

        <div class="code-single">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">gl_buffer.hpp</span>
                    <span class="tag tag-raii">Custom RAII</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;GL/gl.h&gt;</span>
<span class="pp">#include</span> <span class="st">&lt;utility&gt;</span>

<span class="kw">class</span> <span class="cl">GlBuffer</span>
{
<span class="kw">public</span>:
    <span class="cm">// Constructeur : acquisition de la ressource GPU</span>
    <span class="cl">GlBuffer</span>()
    {
        <span class="fn">glGenBuffers</span>(<span class="nb">1</span>, &amp;<span class="vr">id_</span>);
    }

    <span class="cm">// Destructeur : lib&eacute;ration de la ressource GPU</span>
    ~<span class="cl">GlBuffer</span>()
    {
        <span class="kw">if</span> (<span class="vr">id_</span> != <span class="nb">0</span>) {
            <span class="fn">glDeleteBuffers</span>(<span class="nb">1</span>, &amp;<span class="vr">id_</span>);
        }
    }

    <span class="cm">// Interdire la copie (une ressource GPU = un propri&eacute;taire)</span>
    <span class="cl">GlBuffer</span>(<span class="kw">const</span> <span class="cl">GlBuffer</span>&amp;) = <span class="kw">delete</span>;
    <span class="cl">GlBuffer</span>&amp; <span class="kw">operator</span>=(<span class="kw">const</span> <span class="cl">GlBuffer</span>&amp;) = <span class="kw">delete</span>;

    <span class="cm">// Autoriser le move (transfert de propri&eacute;t&eacute;)</span>
    <span class="cl">GlBuffer</span>(<span class="cl">GlBuffer</span>&amp;&amp; <span class="vr">other</span>) <span class="kw">noexcept</span>
        : <span class="vr">id_</span>(<span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">other</span>.<span class="vr">id_</span>, <span class="nb">0</span>))
    {}

    <span class="cl">GlBuffer</span>&amp; <span class="kw">operator</span>=(<span class="cl">GlBuffer</span>&amp;&amp; <span class="vr">other</span>) <span class="kw">noexcept</span>
    {
        <span class="kw">if</span> (<span class="kw">this</span> != &amp;<span class="vr">other</span>) {
            <span class="kw">if</span> (<span class="vr">id_</span> != <span class="nb">0</span>) <span class="fn">glDeleteBuffers</span>(<span class="nb">1</span>, &amp;<span class="vr">id_</span>);
            <span class="vr">id_</span> = <span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">other</span>.<span class="vr">id_</span>, <span class="nb">0</span>);
        }
        <span class="kw">return</span> *<span class="kw">this</span>;
    }

    <span class="ty">GLuint</span> <span class="fn">id</span>() <span class="kw">const noexcept</span> { <span class="kw">return</span> <span class="vr">id_</span>; }

<span class="kw">private</span>:
    <span class="ty">GLuint</span> <span class="vr">id_</span> = <span class="nb">0</span>;
};</code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#127919;</span>
            <p><strong>Pattern cl&eacute; :</strong> <code>std::exchange(other.id_, 0)</code> dans le move constructor
            met l'objet source dans un &eacute;tat &laquo; vide &raquo; valide. Son destructeur ne lib&eacute;rera rien &mdash;
            la <strong>propri&eacute;t&eacute; a &eacute;t&eacute; transf&eacute;r&eacute;e</strong>, pas dupliqu&eacute;e.</p>
        </div>
    </section>

    <div class="divider"></div>

    <!-- ============================
         RULE OF FIVE / ZERO
         ============================ -->
    <section class="concept" id="rule-of-five">
        <div class="concept-header">
            <div class="concept-icon">&#9881;</div>
            <div class="concept-title-group">
                <h2>Rule of Five &amp; Rule of Zero</h2>
                <div class="concept-subtitle">Quand et comment d&eacute;finir les op&eacute;rations sp&eacute;ciales</div>
            </div>
        </div>

        <p class="concept-desc">
            La <strong>Rule of Five</strong> dit : si vous d&eacute;finissez l'un des 5 membres sp&eacute;ciaux (destructeur,
            copy/move constructor, copy/move assignment), d&eacute;finissez-les <strong>tous</strong>.
            La <strong>Rule of Zero</strong> dit : pr&eacute;f&eacute;rez ne rien d&eacute;finir &mdash;
            utilisez des types RAII et le compilateur fait le reste.
        </p>

        <div class="code-grid">
            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">rule_of_five.cpp</span>
                    <span class="tag tag-raii">Rule of Five</span>
                </div>
                <pre><code><span class="cm">// Quand vous g&eacute;rez une ressource brute :</span>
<span class="cm">// d&eacute;finissez les 5 op&eacute;rations sp&eacute;ciales</span>

<span class="kw">class</span> <span class="cl">Buffer</span>
{
<span class="kw">public</span>:
    <span class="kw">explicit</span> <span class="cl">Buffer</span>(<span class="ty">size_t</span> <span class="vr">size</span>)
        : <span class="vr">data_</span>(<span class="kw">new</span> <span class="ty">char</span>[<span class="vr">size</span>])
        , <span class="vr">size_</span>(<span class="vr">size</span>) {}

    <span class="cm">// 1. Destructeur</span>
    ~<span class="cl">Buffer</span>() { <span class="kw">delete</span>[] <span class="vr">data_</span>; }

    <span class="cm">// 2. Copy constructor</span>
    <span class="cl">Buffer</span>(<span class="kw">const</span> <span class="cl">Buffer</span>&amp; <span class="vr">o</span>)
        : <span class="vr">data_</span>(<span class="kw">new</span> <span class="ty">char</span>[<span class="vr">o</span>.<span class="vr">size_</span>])
        , <span class="vr">size_</span>(<span class="vr">o</span>.<span class="vr">size_</span>)
    {
        <span class="cl">std</span>::<span class="fn">copy</span>(<span class="vr">o</span>.<span class="vr">data_</span>, <span class="vr">o</span>.<span class="vr">data_</span> + <span class="vr">size_</span>, <span class="vr">data_</span>);
    }

    <span class="cm">// 3. Copy assignment</span>
    <span class="cl">Buffer</span>&amp; <span class="kw">operator</span>=(<span class="kw">const</span> <span class="cl">Buffer</span>&amp; <span class="vr">o</span>) {
        <span class="kw">if</span> (<span class="kw">this</span> != &amp;<span class="vr">o</span>) {
            <span class="kw">delete</span>[] <span class="vr">data_</span>;
            <span class="vr">size_</span> = <span class="vr">o</span>.<span class="vr">size_</span>;
            <span class="vr">data_</span> = <span class="kw">new</span> <span class="ty">char</span>[<span class="vr">size_</span>];
            <span class="cl">std</span>::<span class="fn">copy</span>(<span class="vr">o</span>.<span class="vr">data_</span>, <span class="vr">o</span>.<span class="vr">data_</span> + <span class="vr">size_</span>, <span class="vr">data_</span>);
        }
        <span class="kw">return</span> *<span class="kw">this</span>;
    }

    <span class="cm">// 4. Move constructor</span>
    <span class="cl">Buffer</span>(<span class="cl">Buffer</span>&amp;&amp; <span class="vr">o</span>) <span class="kw">noexcept</span>
        : <span class="vr">data_</span>(<span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">o</span>.<span class="vr">data_</span>, <span class="kw">nullptr</span>))
        , <span class="vr">size_</span>(<span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">o</span>.<span class="vr">size_</span>, <span class="nb">0</span>)) {}

    <span class="cm">// 5. Move assignment</span>
    <span class="cl">Buffer</span>&amp; <span class="kw">operator</span>=(<span class="cl">Buffer</span>&amp;&amp; <span class="vr">o</span>) <span class="kw">noexcept</span> {
        <span class="kw">if</span> (<span class="kw">this</span> != &amp;<span class="vr">o</span>) {
            <span class="kw">delete</span>[] <span class="vr">data_</span>;
            <span class="vr">data_</span> = <span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">o</span>.<span class="vr">data_</span>, <span class="kw">nullptr</span>);
            <span class="vr">size_</span> = <span class="cl">std</span>::<span class="fn">exchange</span>(<span class="vr">o</span>.<span class="vr">size_</span>, <span class="nb">0</span>);
        }
        <span class="kw">return</span> *<span class="kw">this</span>;
    }

<span class="kw">private</span>:
    <span class="ty">char</span>* <span class="vr">data_</span>;
    <span class="ty">size_t</span> <span class="vr">size_</span>;
};</code></pre>
            </div>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="filename">rule_of_zero.cpp</span>
                    <span class="tag tag-good">Rule of Zero</span>
                </div>
                <pre><code><span class="pp">#include</span> <span class="st">&lt;vector&gt;</span>
<span class="pp">#include</span> <span class="st">&lt;string&gt;</span>
<span class="pp">#include</span> <span class="st">&lt;memory&gt;</span>

<span class="cm">// AUCUNE op&eacute;ration sp&eacute;ciale d&eacute;finie.</span>
<span class="cm">// Le compilateur g&eacute;n&egrave;re tout correctement</span>
<span class="cm">// car chaque membre est d&eacute;j&agrave; RAII.</span>

<span class="kw">class</span> <span class="cl">Document</span>
{
<span class="kw">public</span>:
    <span class="cl">Document</span>(<span class="cl">std</span>::<span class="cl">string</span> <span class="vr">title</span>,
             <span class="cl">std</span>::<span class="cl">string</span> <span class="vr">content</span>)
        : <span class="vr">title_</span>(<span class="cl">std</span>::<span class="fn">move</span>(<span class="vr">title</span>))
        , <span class="vr">content_</span>(<span class="cl">std</span>::<span class="fn">move</span>(<span class="vr">content</span>))
    {}

    <span class="kw">void</span> <span class="fn">add_tag</span>(<span class="cl">std</span>::<span class="cl">string</span> <span class="vr">tag</span>)
    {
        <span class="vr">tags_</span>.<span class="fn">push_back</span>(<span class="cl">std</span>::<span class="fn">move</span>(<span class="vr">tag</span>));
    }

<span class="kw">private</span>:
    <span class="cl">std</span>::<span class="cl">string</span>              <span class="vr">title_</span>;
    <span class="cl">std</span>::<span class="cl">string</span>              <span class="vr">content_</span>;
    <span class="cl">std</span>::<span class="cl">vector</span>&lt;<span class="cl">std</span>::<span class="cl">string</span>&gt; <span class="vr">tags_</span>;
};

<span class="cm">// Document est copiable, movable,</span>
<span class="cm">// et ne fuit jamais &mdash; sans &eacute;crire</span>
<span class="cm">// une seule ligne de gestion m&eacute;moire.</span>

<span class="cm">// Pr&eacute;f&eacute;rez toujours la Rule of Zero.</span>
<span class="cm">// N'&eacute;crivez la Rule of Five que pour</span>
<span class="cm">// les classes &laquo; ressource &raquo; de bas niveau.</span></code></pre>
            </div>
        </div>

        <div class="insight-box">
            <span class="icon">&#128161;</span>
            <p><strong>En pratique :</strong> 95% de vos classes devraient suivre la <strong>Rule of Zero</strong>.
            Composez vos classes avec <code>std::string</code>, <code>std::vector</code>, <code>std::unique_ptr</code>,
            et le compilateur g&eacute;n&egrave;re les op&eacute;rations sp&eacute;ciales correctes.
            La Rule of Five ne concerne que les <strong>wrappers de ressources brutes</strong>.</p>
        </div>
    </section>

</main>

<!-- ============================
     FOOTER
     ============================ -->
<footer>
    <p class="raii-logo">RESOURCE ACQUISITION IS INITIALIZATION</p>
    <p>L'idiome fondamental pour un C++ moderne, s&ucirc;r et sans fuites.</p>
    <p style="margin-top:12px;">
        R&eacute;f&eacute;rences :
        <a href="https://en.cppreference.com/w/cpp/language/raii" target="_blank">cppreference RAII</a>
        &amp; <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines" target="_blank">C++ Core Guidelines</a>
    </p>
</footer>

<!-- ============================
     JAVASCRIPT
     ============================ -->
<script>
    // Intersection Observer for scroll animations
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        },
        { threshold: 0.1, rootMargin: '0px 0px -40px 0px' }
    );

    document.querySelectorAll('.concept, .intro-section').forEach(el => observer.observe(el));

    // Back to top button
    const backBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
        backBtn.classList.toggle('show', window.scrollY > 600);
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const target = document.querySelector(link.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });
</script>

</body>
</html>
